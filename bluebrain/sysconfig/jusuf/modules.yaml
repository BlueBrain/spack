modules:
  default:
    'enable:':
    - lmod

    lmod:
      core_compilers:
        - 'gcc'
        - 'intel'
      core_specs:
        - 'py-bluepyopt'
      verbose: true
      hash_length: 0
      include:
        - 'emsim'
        - 'neurodamus-neocortex'
        - 'neurodamus-hippocampus'
        - 'neurodamus-mousify'
        - 'neuron%intel'
        - 'py-bluepy'
        - 'py-bluepyopt'
        - 'brion+python'
        - 'py-sonata-network-reduction'
        - 'py-bglibpy'
        - 'psp-validation'
        - 'py-bluepysnap'
        - 'py-neurodamus'
        - 'py-libsonata'
        - 'py-netpyne'
      projections:
        all: '{name}/{version}'
      exclude:
      - '%gcc'
      - '%intel'
      - '%clang'
      - '%pgi'
    roots:
      lmod: $SPACK_INSTALL_PREFIX/modules